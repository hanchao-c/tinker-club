function AjaxHelper(){}function doAjax(option,type){var _default={"type":type,"dataType":"json"};option=$.extend({},_default,option);option.dataFilter=function(data,type){if(typeof data==="string"&&"json"===type.toLowerCase()){if(data.length===0){return null}if(data.indexOf("DOCTYPE html")>0){window.location.href=".."}}return data};var beforeSendFunction=option.beforeSendFunction;option.beforeSend=function(XMLHttpRequest){if(!option.overrideBeforeSend){if(option.shadow!==false){if(mask){mask()}}}if(beforeSendFunction){beforeSendFunction(XMLHttpRequest)}};var completeFunction=option.complete;option.complete=function(XMLHttpRequest,textStatus){if(!option.overrideComplete){if(option.mask!==false){if(unmask){unmask()}}}if(completeFunction){completeFunction(XMLHttpRequest,textStatus)}};var errorFunction=option.error;option.error=function(XMLHttpRequest,textStatus,errorThrown){if(!option.overrideError){var errorResponse;try{errorResponse=JSON.parse(XMLHttpRequest.responseText)}catch(e){console.log(e)}if(errorResponse){Notification.danger(errorResponse.message)}}if(errorFunction){errorFunction(XMLHttpRequest,textStatus,errorThrown)}};$.ajax(option)}(function($){AjaxHelper.get=function(option){doAjax(option,"get")};AjaxHelper.post=function(option){doAjax(option,"post")};AjaxHelper.del=function(option){doAjax(option,"delete")};AjaxHelper.put=function(option){doAjax(option,"put")};AjaxHelper.patch=function(option){doAjax(option,"patch")}})(jQuery);